)CREATE TABLE users (
ID_user SERIAL PRIMARY KEY NOT NULL,
login VARCHAR(15) UNIQUE NOT NULL,
password VARCHAR(15) NOT NULL
);
CREATE TABLE executor(
ID_executor SERIAL PRIMARY KEY,
name VARCHAR(20),
surname VARCHAR(20) NOT NULL,
twoname VARCHAR(20),
UNIQUE(name, surname, twoname)
);
CREATE TABLE styles (
ID_style SERIAL PRIMARY KEY NOT NULL,
title VARCHAR(20) UNIQUE NOT NULL,
about VARCHAR(40)
);
CREATE TABLE track (
ID_track SERIAL PRIMARY KEY NOT NULL,
ID_executor INT NOT NULL,
ID_style INT NOT NULL,
name VARCHAR(30) NOT NULL,
path VARCHAR(200) NOT NULL,
FOREIGN KEY(ID_executor) REFERENCES executor(ID_executor) ON DELETE CASCADE,
FOREIGN KEY(ID_style) REFERENCES styles(ID_style) ON DELETE CASCADE,
UNIQUE(ID_track, ID_executor, ID_style, name)
);
CREATE TABLE favorites (
ID_favorites SERIAL PRIMARY KEY NOT NULL,
ID_user INT NOT NULL,
ID_track INT NOT NULL,
FOREIGN KEY(ID_user) REFERENCES users(ID_user) ON DELETE CASCADE,
FOREIGN KEY(ID_track) REFERENCES track(ID_track) ON DELETE CASCADE
);
